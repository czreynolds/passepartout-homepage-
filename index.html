<div class="w3-padding-64 w3-center" style="background-color:#768886;" id="waitlist-section">
  <form id="waitlistForm" class="w3-container w3-padding-32 w3-card w3-round-large" style="background-color:#10383A; color:#fbe8d6; max-width: 600px; margin: auto;">
    
    <p class="w3-large" style="margin-bottom: 24px; color:#fbe8d6;">
      <strong style="color:#DAA112;">Be the first to sync your squad.</strong><br>
      Join our early access list and get notified when we launch.
    </p>

    <h2 style="color:#DAA112;">Join the Waitlist ‚úàÔ∏è</h2>

    <label for="name" style="margin-top:12px;">Name</label>
    <input class="w3-input w3-margin-bottom w3-round" type="text" name="name" required>

    <label for="email">Email</label>
    <input class="w3-input w3-margin-bottom w3-round" type="email" name="email" required>

    <button class="w3-button w3-round-large w3-padding-large" type="submit" style="background-color:#DAA112; color:#10383A;">
      Get Notified
    </button>

    <p id="formSuccess" class="w3-margin-top" style="display: none; color:#DAA112;">
      üéâ Thanks for joining! We'll be in touch soon.
    </p>
  </form>
</div>

<script>
document.getElementById('waitlistForm').addEventListener('submit', async function(event) {
  event.preventDefault();

  const form = event.target;
  const name = form.name.value.trim();
  const email = form.email.value.trim();

  try {
    const response = await fetch("https://passepartout-waitlist-api.vercel.app/join-waitlist", {
      method: "POST",
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify({ name, email })
    });

    if (response.ok) {
      document.getElementById('formSuccess').style.display = "block";
      form.reset();
    } else {
      alert("Oops! Something went wrong. Please try again.");
    }
  } catch (err) {
    console.error(err);
    alert("An error occurred while submitting. Please try again.");
  }
});
</script>
